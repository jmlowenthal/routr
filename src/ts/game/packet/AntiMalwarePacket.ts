import { AbstractPacket } from "./AbstractPacket";
import { PACKET_WIDTH, ANTIVIRUS_PACKET_HEALTH } from "../MagicNumber";
import { AbstractNode } from "../node/AbstractNode";
import { BasicNode } from "../node/BasicNode";

export class AntiMalwarePacket extends AbstractPacket {
    priority(): number {
        return 1;
    }
    deliver(node: AbstractNode): void {
        if (node instanceof BasicNode) {
            node.setHealth(node.getHealth() + ANTIVIRUS_PACKET_HEALTH);
        }
    }
    draw(ctx: CanvasRenderingContext2D, x: number, y: number): void {
        ctx.lineWidth = 2;
        ctx.fillStyle = "#FF7800";
        ctx.beginPath();
        ctx.arc(x + (PACKET_WIDTH * 0.5), y + (PACKET_WIDTH * 0.5), PACKET_WIDTH / 2, 0, 2 * Math.PI);
        ctx.fill();
    }
}